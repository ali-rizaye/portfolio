<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ali Rezaye - Full-Stack JavaScript Developer</title>
    <meta
      name="description"
      content="Ali Rezaye - Full-Stack JavaScript Developer specializing in Angular, NestJS, and modern web technologies"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <!-- <link rel="stylesheet" href="./css/main.css" /> -->

    <style>
      :root {
        --bg: #0a0a0a;
        --surface: #111111;
        --surface-hover: #1a1a1a;
        --border: #222222;
        --text: #ffffff;
        --muted: #888888;
        --accent: #00d9ff;
        --accent-hover: #00bfff;
        --success: #10b981;
        --warning: #f59e0b;
        --gradient: linear-gradient(135deg, var(--accent), #6366f1);
        --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.3),
          0 2px 4px -1px rgba(0, 0, 0, 0.2);
        --shadow-lg: 0 20px 25px -5px rgba(0, 0, 0, 0.4),
          0 10px 10px -5px rgba(0, 0, 0, 0.2);
        --radius: 8px;
        --transition: all 0.2s ease;
      }

      [data-theme="light"] {
        --bg: #ffffff;
        --surface: #f8fafc;
        --surface-hover: #f1f5f9;
        --border: #e2e8f0;
        --text: #1e293b;
        --muted: #64748b;
        --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1),
          0 2px 4px -1px rgba(0, 0, 0, 0.06);
        --shadow-lg: 0 20px 25px -5px rgba(0, 0, 0, 0.1),
          0 10px 10px -5px rgba(0, 0, 0, 0.04);
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      html {
        scroll-behavior: smooth;
      }

      body {
        font-family: "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI",
          sans-serif;
        background: var(--bg);
        color: var(--text);
        line-height: 1.6;
        transition: var(--transition);
      }

      .wrap {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 20px;
        min-height: 100vh;
        display: flex;
        flex-direction: column;
      }

      /* Header */
      header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 20px 0;
        border-bottom: 1px solid var(--border);
        position: sticky;
        top: 0;
        background: var(--bg);
        z-index: 100;
        backdrop-filter: blur(20px);
        margin-bottom: 40px;
      }

      .brand {
        display: flex;
        align-items: center;
        gap: 12px;
      }

      .logo {
        width: 48px;
        height: 48px;
        /* background: var(--gradient); */
        background-color: transparent;
        border-radius: var(--radius);
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: 700;
        font-size: 18px;
        color: white;
        animation: logoFloat 3s ease-in-out infinite;
        overflow: hidden;
      }

      .logo img {
        margin-top: 0.5rem;
        width: 90%;
        height: auto;
        opacity: 0.85;
        border: none;
        box-shadow: var(--shadow);
      }

      @keyframes logoFloat {
        0%,
        100% {
          transform: translateY(0px);
        }
        50% {
          transform: translateY(-4px);
        }
      }

      .title {
        font-weight: 600;
        font-size: 18px;
      }

      nav {
        display: flex;
        align-items: center;
        gap: 8px;
      }

      .btn {
        padding: 8px 16px;
        background: var(--surface);
        border: 1px solid var(--border);
        border-radius: var(--radius);
        color: var(--text);
        text-decoration: none;
        font-size: 14px;
        font-weight: 500;
        cursor: pointer;
        transition: var(--transition);
        display: inline-flex;
        align-items: center;
        gap: 4px;
      }

      .btn:hover {
        background: var(--surface-hover);
        border-color: var(--accent);
        transform: translateY(-2px);
        box-shadow: var(--shadow);
      }

      .btn.primary {
        background: var(--gradient);
        border-color: transparent;
        color: white;
      }

      .btn.primary:hover {
        opacity: 0.9;
        transform: translateY(-2px) scale(1.02);
      }

      /* Main content */
      main {
        flex: 1;
      }

      .hero {
        display: grid;
        grid-template-columns: 1fr 300px;
        gap: 40px;
        margin-bottom: 80px;
        align-items: start;
      }

      .intro h1 {
        font-size: clamp(2rem, 4vw, 3.5rem);
        font-weight: 700;
        line-height: 1.2;
        margin-bottom: 20px;
        background: var(--gradient);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }

      .intro p {
        font-size: 18px;
        color: var(--muted);
        margin-bottom: 24px;
        line-height: 1.7;
      }

      .badge {
        display: inline-block;
        padding: 4px 8px;
        background: var(--surface);
        border: 1px solid var(--border);
        border-radius: 4px;
        font-size: 12px;
        color: var(--muted);
        margin-right: 8px;
      }

      .card {
        background: var(--surface);
        border: 1px solid var(--border);
        border-radius: var(--radius);
        padding: 20px;
        transition: var(--transition);
      }

      .card:hover {
        border-color: var(--accent);
        box-shadow: var(--shadow);
        transform: translateY(-2px);
      }

      .skill-pill {
        display: inline-block;
        padding: 4px 8px;
        background: var(--accent);
        color: white;
        border-radius: 12px;
        font-size: 12px;
        font-weight: 500;
        margin: 2px 4px 2px 0;
      }

      /* Sections */
      .section {
        margin-bottom: 80px;
      }

      .section h2 {
        font-size: 2rem;
        font-weight: 700;
        margin-bottom: 8px;
      }

      .muted {
        color: var(--muted);
        font-size: 14px;
      }

      /* Projects */
      .projects-grid {
        display: grid;
        gap: 20px;
        margin-top: 20px;
      }

      .project {
        background: var(--surface);
        border: 1px solid var(--border);
        border-radius: var(--radius);
        padding: 20px;
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
        gap: 20px;
        transition: var(--transition);
        opacity: 1;
        transform: translateY(0);
      }

      .project:hover {
        border-color: var(--accent);
        box-shadow: var(--shadow);
        transform: translateY(-4px);
      }

      .project.hidden {
        opacity: 0;
        transform: translateY(20px);
        pointer-events: none;
      }

      .project h3 {
        font-size: 18px;
        font-weight: 600;
        margin-bottom: 8px;
      }

      .meta {
        text-align: right;
        flex-shrink: 0;
      }

      /* Skills */
      .skills {
        display: flex;
        flex-direction: column;
        gap: 16px;
      }

      .skill-row {
        display: flex;
        justify-content: space-between;
        font-size: 14px;
        margin-bottom: 4px;
      }

      .bar-wrap {
        height: 6px;
        background: var(--border);
        border-radius: 3px;
        overflow: hidden;
      }

      .bar {
        height: 100%;
        background: var(--gradient);
        border-radius: 3px;
        width: 0%;
        transition: width 1s ease-out;
      }

      /* Contact */
      .contact-grid {
        display: grid;
        grid-template-columns: 1fr 300px;
        gap: 40px;
        align-items: start;
      }

      form {
        display: flex;
        flex-direction: column;
        gap: 12px;
      }

      label {
        font-size: 14px;
        font-weight: 500;
        margin-bottom: -8px;
      }

      input,
      textarea {
        padding: 12px;
        background: var(--surface);
        border: 1px solid var(--border);
        border-radius: var(--radius);
        color: var(--text);
        font-family: inherit;
        font-size: 14px;
        transition: var(--transition);
      }

      input:focus,
      textarea:focus {
        outline: none;
        border-color: var(--accent);
        box-shadow: 0 0 0 3px rgba(0, 217, 255, 0.1);
      }

      /* Modal */
      .modal {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.8);
        backdrop-filter: blur(4px);
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 1000;
        opacity: 0;
        visibility: hidden;
        transition: var(--transition);
      }

      .modal.show {
        opacity: 1;
        visibility: visible;
      }

      .modal-card {
        background: var(--bg);
        border: 1px solid var(--border);
        border-radius: var(--radius);
        padding: 30px;
        max-width: 90vw;
        max-height: 90vh;
        overflow-y: auto;
        position: relative;
        box-shadow: var(--shadow-lg);
        transform: scale(0.9);
        transition: var(--transition);
      }

      .modal.show .modal-card {
        transform: scale(1);
      }

      .modal-body {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 30px;
        margin-top: 20px;
      }

      .preview {
        width: 100%;
        height: 300px;
        border: 1px solid var(--border);
        border-radius: var(--radius);
        background: var(--surface);
      }

      pre {
        background: var(--surface);
        border: 1px solid var(--border);
        border-radius: var(--radius);
        padding: 16px;
        font-size: 12px;
        overflow-x: auto;
        margin: 12px 0;
      }

      /* Footer */
      footer {
        padding: 40px 0;
        border-top: 1px solid var(--border);
        text-align: center;
      }

      /* Animations */
      @keyframes fadeInUp {
        from {
          opacity: 0;
          transform: translateY(30px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .animate-in {
        animation: fadeInUp 0.6s ease-out forwards;
      }

      /* Loading animation */
      .loading {
        display: inline-block;
        width: 12px;
        height: 12px;
        border: 2px solid var(--border);
        border-radius: 50%;
        border-top-color: var(--accent);
        animation: spin 1s ease-in-out infinite;
      }

      @keyframes spin {
        to {
          transform: rotate(360deg);
        }
      }

      /* Success/Error states */
      .success {
        color: var(--success);
      }

      .error {
        color: var(--warning);
      }

      /* Responsive */
      @media (max-width: 768px) {
        .wrap {
          padding: 0 16px;
        }

        header {
          flex-direction: column;
          gap: 16px;
          text-align: center;
        }

        nav {
          flex-wrap: wrap;
          justify-content: center;
        }

        .hero {
          grid-template-columns: 1fr;
          gap: 30px;
        }

        .contact-grid,
        .modal-body {
          grid-template-columns: 1fr;
        }

        .intro h1 {
          font-size: 2rem;
        }

        .projects-grid {
          gap: 16px;
        }

        .project {
          flex-direction: column;
          gap: 16px;
        }

        .meta {
          text-align: left;
        }
      }

      /* Accessibility */
      @media (prefers-reduced-motion: reduce) {
        * {
          animation-duration: 0.01ms !important;
          animation-iteration-count: 1 !important;
          transition-duration: 0.01ms !important;
        }

        html {
          scroll-behavior: auto;
        }
      }

      /* Focus styles */
      .btn:focus,
      input:focus,
      textarea:focus {
        outline: 2px solid var(--accent);
        outline-offset: 2px;
      }
    </style>
  </head>

  <body>
    <div class="wrap" id="page">
      <header>
        <div class="brand">
          <div class="logo" aria-hidden="true">
            <img src="./img/01.jpg" alt="My photo" />
          </div>
          <div>
            <div class="title">Ali Rezaye</div>
            <div style="font-size: 13px; color: var(--muted)">
              Full‚ÄëStack JavaScript Developer ‚Äî Angular ¬∑ NestJS
            </div>
          </div>
        </div>
        <nav>
          <a class="btn" href="#projects">Projects</a>
          <a class="btn" href="#about">About</a>
          <a class="btn" href="#contact">Contact</a>
          <button class="btn" id="theme-toggle" aria-pressed="false">
            üåô Theme
          </button>
          <a
            class="btn primary"
            id="download-resume"
            href="#"
            onclick="downloadResume()"
            >üìÑ Download CV</a
          >
        </nav>
      </header>

      <main>
        <section class="hero">
          <div class="intro">
            <h1>
              Building reliable full‚Äëstack tools for research & production.
            </h1>
            <p>
              I design and implement scalable JavaScript systems: Angular
              frontends, NestJS backends, Nx monorepos, Redis caching, and
              BullMQ job queues. I ship maintainable code and clear case studies
              ‚Äî currently finishing The Odin Project fullstack path.
            </p>
            <div style="display: flex; gap: 10px; margin-bottom: 16px">
              <a class="btn primary" href="#projects">See Projects</a>
              <a class="btn" href="#contact">Hire / Sponsor</a>
            </div>
            <div style="margin-top: 14px">
              <span class="badge">üìç Location: Kabul, Afghanistan</span>
              <span class="badge">üåê English: Fluent</span>
            </div>
          </div>

          <aside>
            <div class="card">
              <h3 style="margin-top: 0">Quick Facts & Skills</h3>
              <div style="margin-top: 8px">
                <span class="skill-pill">Nx Monorepo</span>
                <span class="skill-pill">MariaDB / TypeORM</span>
                <span class="skill-pill">Redis / BullMQ</span>
                <span class="skill-pill">Docker / CI</span>
              </div>
              <hr
                style="
                  border: none;
                  border-top: 1px solid var(--border);
                  margin: 12px 0;
                "
              />
              <div style="font-size: 14px; color: var(--muted)">Contact</div>
              <div style="margin-top: 8px">üìû +93 791 870 614</div>
              <div style="margin-top: 4px">üìß ali.elham1252@gmail.com</div>
              <div style="margin-top: 8px; color: var(--muted)">
                GitHub:
                <a
                  id="gh-link"
                  href="https://github.com/ali-rezaye"
                  style="color: var(--accent)"
                  >https://github.com/ali-rezaye</a
                >
              </div>
              <div style="margin-top: 4px; color: var(--muted)">
                LinkedIn:
                <a
                  id="li-link"
                  href="https://linkedin.com/in/ali-rezaye"
                  style="color: var(--accent)"
                  >https://www.linkedin.com/in/ali-rezaye</a
                >
              </div>
            </div>
          </aside>
        </section>

        <section id="projects" class="section">
          <h2>Featured Projects</h2>
          <div class="muted">
            Interactive case studies ‚Äî click ¬´Open¬ª to run a live preview or
            inspect architecture & commands.
          </div>

          <div
            style="margin-top: 12px; display: flex; gap: 8px; flex-wrap: wrap"
          >
            <button class="btn active" data-filter="all">All</button>
            <button class="btn" data-filter="angular">Angular</button>
            <button class="btn" data-filter="nestjs">NestJS</button>
            <button class="btn" data-filter="fullstack">Fullstack</button>
          </div>

          <div class="projects-grid" id="projects-grid" aria-live="polite">
            <article
              class="project animate-in"
              data-tech="fullstack angular nestjs"
              style="animation-delay: 0.1s"
            >
              <div>
                <h3>Author Taxon Cleaner</h3>
                <p class="muted">
                  Fullstack system for Symbiota2: chunked file processing,
                  caching, queued background jobs, inline edits & export
                  reports.
                </p>
                <div
                  style="margin-top: 8px; color: var(--muted); font-size: 13px"
                >
                  Angular ¬∑ NestJS ¬∑ Redis ¬∑ BullMQ ¬∑ MariaDB ¬∑ Nx
                </div>
              </div>
              <div class="meta">
                <div style="display: flex; gap: 8px">
                  <button
                    class="btn primary"
                    data-action="open"
                    data-id="author"
                  >
                    Open
                  </button>
                  <a
                    class="btn"
                    href="https://github.com/ali-rezaye/author-taxon-cleaner"
                    target="_blank"
                    >Repo</a
                  >
                </div>
                <div
                  style="
                    color: var(--success);
                    font-size: 13px;
                    margin-top: 4px;
                  "
                >
                  ‚úÖ MVP deployed
                </div>
              </div>
            </article>

            <article
              class="project animate-in"
              data-tech="angular"
              style="animation-delay: 0.2s"
            >
              <div>
                <h3>Symbiota2 Docs Site</h3>
                <p class="muted">
                  Documentation site for the Symbiota2 migration project, built
                  in Angular and deployed statically.
                </p>
                <div
                  style="margin-top: 8px; color: var(--muted); font-size: 13px"
                >
                  Angular ¬∑ Static deploy
                </div>
              </div>
              <div class="meta">
                <div style="display: flex; gap: 8px">
                  <button
                    class="btn primary"
                    data-action="open"
                    data-id="symbiota"
                  >
                    Open
                  </button>
                  <a class="btn" href="https://symbiota2.org" target="_blank"
                    >Live</a
                  >
                </div>
                <div
                  style="
                    color: var(--success);
                    font-size: 13px;
                    margin-top: 4px;
                  "
                >
                  üöÄ Deployed
                </div>
              </div>
            </article>

            <article
              class="project animate-in"
              data-tech="frontend"
              style="animation-delay: 0.3s"
            >
              <div>
                <h3>Odin Project Demos</h3>
                <p class="muted">
                  Polished frontend demos ‚Äî accessibility improvements,
                  responsive patterns, and clean component design.
                </p>
                <div
                  style="margin-top: 8px; color: var(--muted); font-size: 13px"
                >
                  HTML ¬∑ CSS ¬∑ JS
                </div>
              </div>
              <div class="meta">
                <div style="display: flex; gap: 8px">
                  <button class="btn primary" data-action="open" data-id="odin">
                    Open
                  </button>
                  <a
                    class="btn"
                    href="https://github.com/ali-rezaye/odin-project"
                    target="_blank"
                    >Repo</a
                  >
                </div>
                <div
                  style="
                    color: var(--success);
                    font-size: 13px;
                    margin-top: 4px;
                  "
                >
                  üì∫ Live demos
                </div>
              </div>
            </article>
          </div>

          <div class="section" style="margin-top: 40px">
            <h3>Skills & Live Metrics</h3>
            <div class="card">
              <div class="skills">
                <div class="skill">
                  <div class="skill-row">
                    <span>Angular / Frontend</span><span>85%</span>
                  </div>
                  <div class="bar-wrap">
                    <div class="bar" data-value="85"></div>
                  </div>
                </div>
                <div class="skill">
                  <div class="skill-row">
                    <span>Node / NestJS</span><span>78%</span>
                  </div>
                  <div class="bar-wrap">
                    <div class="bar" data-value="78"></div>
                  </div>
                </div>
                <div class="skill">
                  <div class="skill-row">
                    <span>Databases / TypeORM</span><span>72%</span>
                  </div>
                  <div class="bar-wrap">
                    <div class="bar" data-value="72"></div>
                  </div>
                </div>
                <div class="skill">
                  <div class="skill-row">
                    <span>Queues & Caching</span><span>70%</span>
                  </div>
                  <div class="bar-wrap">
                    <div class="bar" data-value="70"></div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>

        <section id="about" class="section">
          <h2>About & Work Philosophy</h2>
          <div class="card">
            <p class="muted">
              I am a self-taught developer who focuses on building maintainable,
              testable systems for real users. I combine strong frontend UX with
              resilient backend processing pipelines. I value clear
              documentation, readable code, and reproducible deployments.
              Currently expanding my knowledge in DSA and backend patterns via
              The Odin Project.
            </p>
            <hr
              style="
                border: none;
                border-top: 1px solid var(--border);
                margin: 20px 0;
              "
            />
            <strong>Highlights</strong>
            <ul style="margin-top: 12px; padding-left: 20px">
              <li style="margin-bottom: 8px">
                Production-level fullstack project for Symbiota2 (Author Taxon
                Cleaner)
              </li>
              <li style="margin-bottom: 8px">
                Experience with Nx monorepo and containerized deployments
              </li>
              <li style="margin-bottom: 8px">
                Comfortable with remote collaboration and client communication
              </li>
            </ul>
          </div>
        </section>

        <section id="contact" class="section">
          <h2>Contact</h2>
          <div class="contact-grid">
            <div>
              <form id="contact-form">
                <label class="muted">Your name</label>
                <input id="c-name" placeholder="Your name" required />
                <label class="muted">Email</label>
                <input
                  id="c-email"
                  type="email"
                  placeholder="you@example.com"
                  required
                />
                <label class="muted">Message</label>
                <textarea
                  id="c-msg"
                  rows="5"
                  placeholder="Short message"
                  required
                ></textarea>
                <div style="display: flex; gap: 8px; margin-top: 12px">
                  <button class="btn primary" type="submit">
                    üìß Send Message
                  </button>
                  <button class="btn" type="button" id="copy-contact">
                    üìã Copy Contact
                  </button>
                </div>
                <div
                  id="form-status"
                  style="margin-top: 8px; font-size: 14px"
                ></div>
              </form>
            </div>
            <aside>
              <div class="card">
                <h3 style="margin-top: 0">Availability</h3>
                <p class="muted">
                  Available for remote work immediately. Open to
                  employer-sponsored relocation and resettlement pathways.
                </p>
                <h4 style="margin-bottom: 6px; margin-top: 16px">Stack</h4>
                <div class="muted">
                  Angular ¬∑ NestJS ¬∑ TypeScript ¬∑ Redis ¬∑ BullMQ ¬∑ MariaDB ¬∑
                  Docker ¬∑ CI
                </div>
                <h4 style="margin-bottom: 6px; margin-top: 16px">Timezone</h4>
                <div class="muted" id="current-time">
                  Afghanistan Standard Time (AFT)
                </div>
              </div>
            </aside>
          </div>
        </section>
      </main>

      <footer>
        <div class="muted">
          ¬© 2025 Ali Rezaye ‚Äî Fullstack JavaScript Developer ¬∑ GitHub:
          <a
            id="gh-foot"
            href="https://github.com/ali-rezaye"
            style="color: var(--accent)"
            >ali-rezaye</a
          >
        </div>
      </footer>
    </div>

    <!-- Modal for project details + live preview -->
    <div
      class="modal"
      id="modal"
      role="dialog"
      aria-modal="true"
      aria-hidden="true"
    >
      <div class="modal-card" role="document">
        <button
          aria-label="Close"
          id="modal-close"
          class="btn"
          style="float: right"
        >
          ‚úï Close
        </button>
        <h3 id="modal-title">Project Title</h3>
        <div class="modal-body">
          <div>
            <p id="modal-desc" class="muted">
              Longer project description, outcomes, and architecture details.
            </p>
            <pre id="modal-code">Technology highlights & commands</pre>
            <div style="margin-top: 16px; display: flex; gap: 8px">
              <a class="btn" id="modal-repo" href="#" target="_blank"
                >üîó Repository</a
              >
              <a class="btn" id="modal-live" href="#" target="_blank"
                >üöÄ Live Demo</a
              >
            </div>
          </div>
          <div>
            <iframe
              id="modal-preview"
              class="preview"
              title="Live preview"
              sandbox="allow-scripts"
            ></iframe>
          </div>
        </div>
      </div>
    </div>

    <!-- <script src="./js/script.js"></script> -->
    <script>
      // Theme toggle functionality
      const themeToggle = document.getElementById("theme-toggle");
      const currentTheme = localStorage.getItem("theme") || "dark";

      document.documentElement.setAttribute("data-theme", currentTheme);
      themeToggle.textContent =
        currentTheme === "dark" ? "‚òÄÔ∏è Light" : "üåô Dark";

      themeToggle.addEventListener("click", () => {
        const theme = document.documentElement.getAttribute("data-theme");
        const newTheme = theme === "dark" ? "light" : "dark";

        document.documentElement.setAttribute("data-theme", newTheme);
        localStorage.setItem("theme", newTheme);
        themeToggle.textContent = newTheme === "dark" ? "‚òÄÔ∏è Light" : "üåô Dark";
      });

      // Project filtering
      const filterBtns = document.querySelectorAll("[data-filter]");
      const projects = document.querySelectorAll(".project");

      filterBtns.forEach((btn) => {
        btn.addEventListener("click", () => {
          // Remove active class from all buttons
          filterBtns.forEach((b) => b.classList.remove("active"));
          btn.classList.add("active");

          const filter = btn.dataset.filter;

          projects.forEach((project) => {
            const tech = project.dataset.tech;
            const shouldShow = filter === "all" || tech.includes(filter);

            if (shouldShow) {
              project.classList.remove("hidden");
            } else {
              project.classList.add("hidden");
            }
          });
        });
      });

      // Add active class to filter buttons
      document.querySelector('[data-filter="all"]').classList.add("active");

      // Skills animation
      const observerOptions = {
        threshold: 0.5,
        rootMargin: "0px 0px -100px 0px",
      };

      const skillsObserver = new IntersectionObserver((entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            const bars = entry.target.querySelectorAll(".bar");
            bars.forEach((bar) => {
              const value = bar.dataset.value;
              setTimeout(() => {
                bar.style.width = value + "%";
              }, 100);
            });
            skillsObserver.unobserve(entry.target);
          }
        });
      }, observerOptions);

      // Observe skills section
      const skillsSection = document.querySelector(".skills");
      if (skillsSection) {
        skillsObserver.observe(skillsSection);
      }

      // Modal functionality
      const modal = document.getElementById("modal");
      const modalClose = document.getElementById("modal-close");
      const modalTitle = document.getElementById("modal-title");
      const modalDesc = document.getElementById("modal-desc");
      const modalCode = document.getElementById("modal-code");
      const modalPreview = document.getElementById("modal-preview");
      const modalRepo = document.getElementById("modal-repo");
      const modalLive = document.getElementById("modal-live");

      // Project data
      const projectData = {
        author: {
          title: "Author Taxon Cleaner",
          description:
            "A comprehensive fullstack application for the Symbiota2 ecosystem that handles large-scale taxonomic data cleaning operations. Features include chunked file processing for handling large datasets, Redis caching for performance optimization, BullMQ job queues for background processing, and real-time progress tracking.",
          code: `# Key Technologies & Architecture
            - Frontend: Angular 15+ with TypeScript
            - Backend: NestJS with Express
            - Database: MariaDB with TypeORM
            - Caching: Redis for session and data caching
            - Queue System: BullMQ for background jobs
            - Monorepo: Nx workspace for code organization
            - Deployment: Docker containers with CI/CD

            # Key Features
            - Chunked file upload and processing
            - Real-time progress tracking via WebSockets
            - Background job processing with retry logic
            - Comprehensive error handling and logging
            - Export functionality with multiple formats`,
          repo: "https://github.com/ali-rezaye/author-taxon-cleaner",
          live: "https://author-taxon-cleaner.demo.com",
          preview: `<!DOCTYPE html>
            <html><head><style>
            body { font-family: Arial, sans-serif; padding: 20px; background: #f0f8ff; }
            .container { max-width: 600px; margin: 0 auto; background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
            .header { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; }
            .progress { background: #e0e0e0; border-radius: 10px; overflow: hidden; margin: 10px 0; }
            .progress-bar { background: #4caf50; height: 20px; width: 75%; transition: width 0.3s ease; }
            .feature { padding: 10px; margin: 10px 0; border-left: 4px solid #667eea; background: #f8f9ff; }
            </style></head><body>
            <div class="container">
            <div class="header">
            <h2>Author Taxon Cleaner Dashboard</h2>
            <p>Processing taxonomic data with advanced algorithms</p>
            </div>
            <div class="feature">
            <strong>File Processing:</strong> Chunked upload system for large datasets
            </div>
            <div class="feature">
            <strong>Progress Tracking:</strong> Real-time job status updates
            <div class="progress"><div class="progress-bar"></div></div>
            <small>Processing: 750/1000 records (75% complete)</small>
            </div>
            <div class="feature">
            <strong>Background Jobs:</strong> BullMQ queue system for scalable processing
            </div>
            <div class="feature">
            <strong>Export Options:</strong> CSV, Excel, and JSON formats supported
            </div>
            </div>
            </body></html>`,
        },
        symbiota: {
          title: "Symbiota2 Documentation Site",
          description:
            "A modern documentation website built for the Symbiota2 project migration. Built with Angular and featuring responsive design, search functionality, interactive examples, and comprehensive API documentation. Deployed as a static site for optimal performance and reliability.",
          code: `# Technologies Used
                - Frontend: Angular 15+ with Angular Universal for SSR
                - Styling: Tailwind CSS for utility-first styling
                - Search: Client-side search with Lunr.js
                - Deployment: Static site generation and CDN deployment
                - Documentation: Markdown-based content management

                # Features Implemented
                - Responsive design optimized for all devices
                - Advanced search functionality
                - Interactive code examples
                - Version-controlled documentation
                - Automated deployment pipeline`,
          repo: "https://github.com/ali-rezaye/symbiota2-docs",
          live: "https://symbiota2.org",
          preview: `<!DOCTYPE html>
            <html><head><style>
            body { font-family: -apple-system, BlinkMacSystemFont, sans-serif; margin: 0; background: #1a202c; color: white; }
            .header { background: linear-gradient(135deg, #4a5568, #2d3748); padding: 20px; }
            .nav { display: flex; gap: 20px; align-items: center; }
            .logo { font-size: 24px; font-weight: bold; color: #63b3ed; }
            .content { padding: 40px 20px; max-width: 1200px; margin: 0 auto; }
            .hero { text-align: center; margin-bottom: 40px; }
            .cards { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; }
            .card { background: #2d3748; padding: 20px; border-radius: 8px; border: 1px solid #4a5568; }
            .card h3 { color: #63b3ed; margin: 0 0 10px 0; }
            .badge { background: #48bb78; color: white; padding: 4px 8px; border-radius: 4px; font-size: 12px; }
            </style></head><body>
            <div class="header">
            <div class="nav">
            <div class="logo">Symbiota2</div>
            <span>Documentation</span>
            <span class="badge">v2.0</span>
            </div>
            </div>
            <div class="content">
            <div class="hero">
            <h1>Symbiota2 Documentation</h1>
            <p>Comprehensive guide for the next-generation biodiversity data platform</p>
            </div>
            <div class="cards">
            <div class="card">
            <h3>Getting Started</h3>
            <p>Quick setup guide and basic concepts</p>
            </div>
            <div class="card">
            <h3>API Reference</h3>
            <p>Complete REST API documentation</p>
            </div>
            <div class="card">
            <h3>Migration Guide</h3>
            <p>Step-by-step migration from Symbiota v1</p>
            </div>
            </div>
            </div>
            </body></html>`,
        },
        odin: {
          title: "The Odin Project Demos",
          description:
            "A collection of polished frontend projects completed as part of The Odin Project curriculum. Each demo showcases different aspects of modern web development including responsive design, accessibility best practices, interactive JavaScript features, and clean component architecture.",
          code: `# Project Collection
            - Calculator: Advanced calculator with keyboard support
            - Etch-a-Sketch: Interactive drawing canvas
            - Rock Paper Scissors: Game with animations
            - Restaurant Page: Dynamic content loading
            - Todo App: Local storage and filtering
            - Weather App: API integration and error handling

            # Key Focus Areas
            - Semantic HTML and accessibility
            - Responsive CSS Grid and Flexbox layouts
            - Vanilla JavaScript ES6+ features
            - API integration and error handling
            - Progressive enhancement principles`,
          repo: "https://github.com/ali-rezaye/odin-project",
          live: "https://ali-rezaye.github.io/odin-project",
          preview: `<!DOCTYPE html>
            <html><head><style>
            body { font-family: 'Segoe UI', sans-serif; margin: 0; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); min-height: 100vh; display: flex; align-items: center; justify-content: center; }
            .container { background: white; border-radius: 12px; padding: 30px; box-shadow: 0 10px 30px rgba(0,0,0,0.2); max-width: 500px; width: 90%; }
            .title { text-align: center; color: #333; margin-bottom: 30px; }
            .demo-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 15px; }
            .demo-card { background: #f8f9fa; border: 2px solid #e9ecef; border-radius: 8px; padding: 15px; text-align: center; transition: all 0.3s ease; cursor: pointer; }
            .demo-card:hover { background: #667eea; color: white; transform: translateY(-2px); box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3); }
            .demo-card h4 { margin: 0 0 8px 0; font-size: 14px; }
            .demo-card p { margin: 0; font-size: 12px; opacity: 0.8; }
            .badge { background: #28a745; color: white; padding: 3px 6px; border-radius: 3px; font-size: 10px; margin-top: 5px; display: inline-block; }
            </style></head><body>
            <div class="container">
            <h1 class="title">üéØ Odin Project Demos</h1>
            <div class="demo-grid">
            <div class="demo-card">
            <h4>Calculator</h4>
            <p>Advanced calculator with keyboard support</p>
            <span class="badge">Interactive</span>
            </div>
            <div class="demo-card">
            <h4>Etch-a-Sketch</h4>
            <p>Drawing canvas with color options</p>
            <span class="badge">Canvas</span>
            </div>
            <div class="demo-card">
            <h4>Rock Paper Scissors</h4>
            <p>Animated game with score tracking</p>
            <span class="badge">Game</span>
            </div>
            <div class="demo-card">
            <h4>Restaurant Page</h4>
            <p>Dynamic content with navigation</p>
            <span class="badge">SPA</span>
            </div>
            <div class="demo-card">
            <h4>Todo App</h4>
            <p>Task management with persistence</p>
            <span class="badge">Storage</span>
            </div>
            <div class="demo-card">
            <h4>Weather App</h4>
            <p>Live weather data integration</p>
            <span class="badge">API</span>
            </div>
            </div>
            </div>
            </body></html>`,
        },
      };

      // Open project modal
      document.addEventListener("click", (e) => {
        if (e.target.dataset.action === "open") {
          const projectId = e.target.dataset.id;
          const project = projectData[projectId];

          if (project) {
            modalTitle.textContent = project.title;
            modalDesc.textContent = project.description;
            modalCode.textContent = project.code;
            modalRepo.href = project.repo;
            modalLive.href = project.live;
            modalPreview.srcdoc = project.preview;

            modal.classList.add("show");
            modal.setAttribute("aria-hidden", "false");

            // Trap focus in modal
            modalClose.focus();
          }
        }
      });

      // Close modal
      modalClose.addEventListener("click", closeModal);
      modal.addEventListener("click", (e) => {
        if (e.target === modal) closeModal();
      });

      function closeModal() {
        modal.classList.remove("show");
        modal.setAttribute("aria-hidden", "true");
      }

      // Keyboard navigation
      document.addEventListener("keydown", (e) => {
        if (e.key === "Escape" && modal.classList.contains("show")) {
          closeModal();
        }
      });

      // Contact form
      const contactForm = document.getElementById("contact-form");
      const formStatus = document.getElementById("form-status");
      const copyContactBtn = document.getElementById("copy-contact");

      contactForm.addEventListener("submit", (e) => {
        e.preventDefault();

        const name = document.getElementById("c-name").value;
        const email = document.getElementById("c-email").value;
        const message = document.getElementById("c-msg").value;

        // Create mailto link
        const subject = encodeURIComponent(`Portfolio Contact from ${name}`);
        const body = encodeURIComponent(
          `Name: ${name}\nEmail: ${email}\n\nMessage:\n${message}`
        );
        const mailtoLink = `mailto:ali.elham1252@gmail.com?subject=${subject}&body=${body}`;

        // Show loading state
        formStatus.innerHTML =
          '<span class="loading"></span> Opening email client...';

        // Open mailto link
        window.location.href = mailtoLink;

        setTimeout(() => {
          formStatus.innerHTML =
            '<span class="success">‚úÖ Email client opened! Please send the message from your email app.</span>';
          contactForm.reset();
        }, 1000);
      });

      // Copy contact info
      copyContactBtn.addEventListener("click", async () => {
        const contactInfo = `Ali Rezaye - Full-Stack JavaScript Developer
Email: ali.elham1252@gmail.com
Phone: +93 791 870 614
GitHub: https://github.com/ali-rezaye
LinkedIn: https://linkedin.com/in/ali-rezaye`;

        try {
          await navigator.clipboard.writeText(contactInfo);
          copyContactBtn.innerHTML = "‚úÖ Copied!";
          setTimeout(() => {
            copyContactBtn.innerHTML = "üìã Copy Contact";
          }, 2000);
        } catch (err) {
          copyContactBtn.innerHTML = "‚ùå Copy failed";
          setTimeout(() => {
            copyContactBtn.innerHTML = "üìã Copy Contact";
          }, 2000);
        }
      });

      // Download resume functionality
      function downloadResume() {
        // Create a sample resume content
        const resumeContent = `ALI REZAYE
Full-Stack JavaScript Developer

CONTACT
Email: ali.elham1252@gmail.com
Phone: +93 791 870 614
Location: Kabul, Afghanistan
GitHub: github.com/ali-rezaye
LinkedIn: linkedin.com/in/ali-rezaye

SUMMARY
Self-taught full-stack developer specializing in Angular frontends and NestJS backends. 
Experience with modern development practices including monorepo architecture, 
containerization, and scalable backend systems.

TECHNICAL SKILLS
‚Ä¢ Frontend: Angular, TypeScript, HTML5, CSS3, JavaScript ES6+
‚Ä¢ Backend: Node.js, NestJS, Express.js
‚Ä¢ Databases: MariaDB, PostgreSQL, Redis
‚Ä¢ Tools: Docker, Nx Monorepo, Git, CI/CD
‚Ä¢ Queue Systems: BullMQ, Redis
‚Ä¢ Other: REST APIs, WebSockets, TypeORM

PROJECTS
Author Taxon Cleaner (2024)
Fullstack application for Symbiota2 with chunked file processing, 
Redis caching, and BullMQ job queues.

Symbiota2 Documentation Site (2024)
Angular-based documentation site with search functionality and 
responsive design.

EDUCATION
The Odin Project - Full Stack JavaScript Path (In Progress)
Self-directed learning in web development fundamentals, 
algorithms, and backend development.

LANGUAGES
English: Fluent
`;

        // Create and download the file
        const blob = new Blob([resumeContent], { type: "text/plain" });
        const url = window.URL.createObjectURL(blob);
        const a = document.createElement("a");
        a.href = url;
        a.download = "Ali_Rezaye_Resume.txt";
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
        window.URL.revokeObjectURL(url);

        // Show feedback
        const btn = document.getElementById("download-resume");
        const originalText = btn.innerHTML;
        btn.innerHTML = "‚úÖ Downloaded!";
        setTimeout(() => {
          btn.innerHTML = originalText;
        }, 2000);
      }

      // Update current time
      function updateCurrentTime() {
        const now = new Date();
        const options = {
          timeZone: "Asia/Kabul",
          hour: "2-digit",
          minute: "2-digit",
          second: "2-digit",
          hour12: true,
        };
        const timeString = now.toLocaleTimeString("en-US", options);
        const currentTimeEl = document.getElementById("current-time");
        if (currentTimeEl) {
          currentTimeEl.innerHTML = `Afghanistan Time: ${timeString} (GMT+4:30)`;
        }
      }

      // Update time every second
      updateCurrentTime();
      setInterval(updateCurrentTime, 1000);

      // Smooth scrolling for anchor links
      document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
        anchor.addEventListener("click", function (e) {
          e.preventDefault();
          const target = document.querySelector(this.getAttribute("href"));
          if (target) {
            target.scrollIntoView({
              behavior: "smooth",
              block: "start",
            });
          }
        });
      });

      // Add scroll-triggered animations
      const animateElements = document.querySelectorAll(".animate-in");
      const animateObserver = new IntersectionObserver(
        (entries) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) {
              entry.target.style.opacity = "1";
              entry.target.style.transform = "translateY(0)";
              animateObserver.unobserve(entry.target);
            }
          });
        },
        {
          threshold: 0.1,
          rootMargin: "0px 0px -50px 0px",
        }
      );

      animateElements.forEach((el) => {
        el.style.opacity = "0";
        el.style.transform = "translateY(30px)";
        el.style.transition = "opacity 0.6s ease, transform 0.6s ease";
        animateObserver.observe(el);
      });

      // Performance monitoring
      window.addEventListener("load", () => {
        setTimeout(() => {
          if (window.performance && window.performance.timing) {
            const loadTime =
              window.performance.timing.loadEventEnd -
              window.performance.timing.navigationStart;
            console.log(`Page loaded in ${loadTime}ms`);
          }
        }, 0);
      });

      // Add active nav highlighting
      const sections = document.querySelectorAll("section[id]");
      const navLinks = document.querySelectorAll('nav a[href^="#"]');

      const navObserver = new IntersectionObserver(
        (entries) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) {
              const id = entry.target.getAttribute("id");
              navLinks.forEach((link) => {
                link.classList.remove("active");
                if (link.getAttribute("href") === `#${id}`) {
                  link.classList.add("active");
                }
              });
            }
          });
        },
        {
          threshold: 0.3,
          rootMargin: "-20% 0px -70% 0px",
        }
      );

      sections.forEach((section) => {
        navObserver.observe(section);
      });

      console.log("üöÄ Portfolio loaded successfully!");
      console.log("üìß Contact: ali.elham1252@gmail.com");
      console.log("üíª GitHub: https://github.com/ali-rezaye");
    </script>
  </body>
</html>
